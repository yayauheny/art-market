# Art Market

Сервис представляет собой торговую площадку для покупки и продажи творческих работ. На этапе MVP реализована логика продажи единичного товара без поддержки множественных единиц. Платформа поддерживает два основных способа покупки:

- **Фиксированная цена**
- **Аукцион** (с предварительной авторизацией средств)

---

## Основная логика сервиса

### Продажа товаров

**Фиксированная цена:**  
- Продавец выставляет товар с фиксированной ценой. При оформлении заказа деньги списываются с кошелька покупателя, а заказ регистрируется в системе. 
- У покупателя есть ограниченное время на завершение покупки. Если время истекает, заказ отменяется и товар снова становится доступным для покупки.

**Аукцион:**  
- Продавец выставляет товар на аукцион, задавая начальную цену и минимальный шаг ставки. 
- Покупатель делает ставку, и система резервирует необходимую сумму на его кошельке. 
- При перебивании ставки резерв предыдущей отменяется и возвращается на счёт. 
- По завершении аукциона, если победитель не проводит оплату или отказывается от товара, право покупки переходит к предыдущему победителю, у которого проходит оплата.

### Платежи и заказы

- При покупке по фиксированной цене создаётся заказ, и происходит списание средств с кошелька.
- В аукционе после завершения торгов победитель получает товар, а резервированные средства списываются окончательно. Если оплата не производится или покупатель отказывается от товара, заказ отменяется, и товар переходит к предыдущему победителю.

Статусы платежей (например, PENDING, SUCCESS, FAILED) позволяют отслеживать ход операций.

---

## Роли пользователей

В системе предусмотрены следующие роли:

- **ADMIN:** Управление пользователями, товарами и аукционами, а также просмотр аналитики.
- **USER:** Просмотр товаров, участие в аукционах и оформление заказов.
- **SELLER:** Создание и управление товарами, настройка условий продажи (фиксированная цена или аукцион).

---

## Пример сценария

1. **Продавец** создаёт товар для продажи по фиксированной цене или для участия в аукционе.
2. **Покупатель** выбирает товар, оформляет заказ или участвует в аукционе, делая ставку. При этом система резервирует необходимые средства с его кошелька.
3. Если покупатель не успевает завершить оплату по фиксированной цене в отведённое время, заказ отменяется, и товар снова становится доступным.
4. В аукционе, если победитель не проводит оплату или отказывается от товара, право покупки переходит к предыдущему победителю, у которого успешно проходит оплата.

---
